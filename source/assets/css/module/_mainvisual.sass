.mainvisual
  width: 100%
  height: 350px
  max-height: 1024px
  position: relative
  background-color: $bgColor-inverse
  overflow: hidden

  a
    color: $fontColor-inverse

  a:hover
    color: $fontColor-link


.mainvisual-image
  //opacity: 1
  position: absolute
  width: 100%
  height: 100%
  overflow: hidden
  top: 0
  left: 0
  @extend %animation
  transition-duration: 800ms

  img
    position: absolute

body.single-works .mainvisual-image
  opacity: 0.5

.mainvisual-image.is-hidden
  opacity: 0 !important
  visibility: hidden


.mainvisual-text
  position: relative
  top: 50%
  transform: translateY(-50%)
  padding: 0 4%
  text-align: center
  // text-shadow: 0 0 100px rgba(#000, 0.55)

.mainvisual-text > *
  @extend %animation
  transition-duration: 1000ms
  transition-timing-function: $easeOutExpo

@for $i from 1 through 3
  .mainvisual-text > *:nth-child(#{$i})
    transition-delay: $i * 100 + ms

.mainvisual-text.is-hidden > *
  transform: translateY(25px)
  opacity: 0
  visibility: hidden


.mainvisual-title
  font-size: 6rem
  margin: 0
  color: $fontColor-inverse
  //text-shadow: 0 0 100px rgba(#000, 0.55)
  letter-spacing: 0.1em


.mainvisual-read
  font-size: 1.7rem
  font-family: $fontFamily-serif
  margin: 0.3em 0 0
  color: $fontColor-inverse
  //text-shadow: 0 0 100px rgba(#000, 0.55)
  font-style: italic
  letter-spacing: 0.08em

.mainvisual .button
  margin-top: 1.6em

  &:hover
    transition-delay: 0


@keyframes mainvisual-loader-square-1
  0%
    transform: rotateY(0deg)
    // opacity: 0.7
  50%
    transform: rotateY(180deg)
    // opacity: 0.3
  100%
    transform: rotateY(360deg)
    // opacity: 0.7

@keyframes mainvisual-loader-square-2
  0%
    transform: rotateY(0deg + 80)
    // opacity: 0.7
  50%
    transform: rotateY(180deg + 80)
    // opacity: 0.3
  100%
    transform: rotateY(360deg + 80)
    // opacity: 0.7

@keyframes mainvisual-loader-square-3
  0%
    transform: rotateY(0deg + 80 * 2)
    // opacity: 0.7
  50%
    transform: rotateY(180deg + 80 * 2)
    // opacity: 0.3
  100%
    transform: rotateY(360deg + 80 * 2)
    // opacity: 0.7

@keyframes mainvisual-loader-square-4
  0%
    transform: rotateY(0deg + 80 * 3)
    // opacity: 0.7
  50%
    transform: rotateY(180deg + 80 * 3)
    // opacity: 0.3
  100%
    transform: rotateY(360deg + 80 * 3)
    // opacity: 0.7


.mainvisual-loader
  @extend %animation
  opacity: 0.5
  visibility: visible

  .loader-square
    position: absolute
    width: 36px
    height: 36px
    top: 50%
    left: 50%
    margin-top: -18px
    margin-left: -18px

    animation-duration: 1000ms
    animation-timing-function: linear
    animation-iteration-count: infinite
    transform-style: preserve-3d
    perspective: 300

    &.square-1
      animation-name: mainvisual-loader-square-1
      // animation-delay: 0

    &.square-2
      animation-name: mainvisual-loader-square-2
      // animation-delay: 200ms

    &.square-3
      animation-name: mainvisual-loader-square-3
      // animation-delay: 400ms

    &.square-4
      animation-name: mainvisual-loader-square-4
      // animation-delay: 600ms

    .square-inner
      position: absolute
      width: 100%
      height: 100%
      border: 1px solid $fontColor-hover
      // border: 1px solid $fontColor-inverse
      transform: rotate(45deg)

    &.square-1 .square-inner
      width: 100%
      height: 100%
      top: 0%
      left: 0%
      border-top: none

    &.square-2 .square-inner
      width: 85%
      height: 85%
      top: 7.5%
      left: 7.5%
      border-right: none

    &.square-3 .square-inner
      width: 70%
      height: 70%
      top: 15%
      left: 15%
      border-bottom: none

    &.square-4 .square-inner
      width: 55%
      height: 55%
      top: 22.5%
      left: 22.5%
      border-left: none


.mainvisual.is-loaded .mainvisual-loader
  opacity: 0
  visibility: hidden